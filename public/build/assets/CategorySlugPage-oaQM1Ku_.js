import{r as a,y as h,j as s,Y as p,af as j,a as v}from"./app-CzuViuCp.js";import{G as y}from"./GuestLayout-Dq2TFkfB.js";import{I as N}from"./index-D9GDua4e.js";import{B as b}from"./button-D7hfL9Ag.js";import"./ApplicationLogo-rT3vg_nV.js";import"./EyeOutlined-C5Y5mOys.js";function E({slug:c,propCategory:i}){const[r,l]=a.useState([]),[u,o]=a.useState(!1),[m,x]=a.useState("");h().props;const n=()=>{const e=[`slug=${c}`,`search=${m}`].join("&");v.get(`/get-articles-by-category?${e}`).then(t=>{l(t.data),o(!1)})};a.useEffect(()=>{n()},[]);const f=()=>{o(!0),n()},g=(e,t)=>{const d=e.split(" ");return d.length>t?d.slice(0,t).join(" ")+"...":e};return s.jsxs(y,{children:[s.jsx(p,{title:"Categories Page"}),s.jsx("div",{className:"h-full",children:s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"font-bold mb-2",children:["CATEGORY: ",i.category]}),s.jsxs("div",{className:"flex gap-2 my-4",children:[s.jsx(N,{placeholder:"Search Title",onChange:e=>x(e.target.value)}),s.jsx(b,{loading:u,onClick:f,children:"Search"})]}),r?s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex gap-6 flex-wrap",children:r.map(e=>s.jsxs("div",{className:"w-[300px]",children:[e.featured_image?s.jsx(j,{href:`/view/${e.slug}`,children:s.jsx("div",{className:`h-[200px] w-[300px] overflow-hidden flex justify-center 
                                                            items-center rounded-2xl shadow-md flex-col`,style:{background:`url(/storage/featured_images/${e==null?void 0:e.featured_image.trim()}) no-repeat`,backgroundPosition:"center",backgroundSize:"cover"}})}):s.jsx("div",{className:`h-[200px] overflow-hidden flex justify-center 
                                                        items-center rounded-2xl shadow-md flex-col`,style:{background:"url('/img/default.jpg') no-repeat",backgroundPosition:"center",backgroundSize:"cover"}}),s.jsx("div",{className:"font-bold my-2",children:e==null?void 0:e.title}),s.jsx("div",{className:"text-justify",children:g(e==null?void 0:e.excerpt,20)})]},e.article_id))})}):s.jsx("div",{children:"LOADING..."})]})})]})}export{E as default};
